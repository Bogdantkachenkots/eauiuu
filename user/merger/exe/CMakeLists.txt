option(EUDAQ_BUILD_EXECUTABLE "Compile main EUDAQ executables?" ON)
if(NOT EUDAQ_BUILD_EXECUTABLE)
  message(STATUS "Disable the building of main EUDAQ executables (EUDAQ_BUILD_EXECUTABLE=OFF)")
  return()
endif()


# For EUDET/standard Mode, out of Mixed Mode data
set(EXE_CLI_MERGERSTDEVTID euCliMergerStandardEvtID)
add_executable(${EXE_CLI_MERGERSTDEVTID} src/euCliMergerStandardEvtID.cxx)
target_link_libraries(${EXE_CLI_MERGERSTDEVTID} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERSTDEVTID})

set(EXE_CLI_MERGERSTDTRIGID euCliMergerStandardTrigID)
add_executable(${EXE_CLI_MERGERSTDTRIGID} src/euCliMergerStandardTrigID.cxx)
target_link_libraries(${EXE_CLI_MERGERSTDTRIGID} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERSTDTRIGID})

set(EXE_CLI_MERGERSTDTRIGIDITK euCliMergerStandardTrigIDITk)
add_executable(${EXE_CLI_MERGERSTDTRIGIDITK} src/euCliMergerStandardTrigIDITk.cxx)
target_link_libraries(${EXE_CLI_MERGERSTDTRIGIDITK} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERSTDTRIGIDITK})

# For Mixed Mode 

set(EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID euCliMergerMixedDuplicateMimosaEvtID)
add_executable(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID} src/euCliMergerMixedDuplicateMimosaEvtID.cxx)
target_link_libraries(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID})

set(EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID euCliMergerMixedDuplicateMimosaTrigID)
add_executable(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID} src/euCliMergerMixedDuplicateMimosaTrigID.cxx)
target_link_libraries(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGID})

set(EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDPIVOTCUT euCliMergerMixedDuplicateMimosaTrigIDpivotCut)
add_executable(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDPIVOTCUT} src/euCliMergerMixedDuplicateMimosaTrigIDpivotCut.cxx)
target_link_libraries(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDPIVOTCUT} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDPIVOTCUT})

set(EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDITK euCliMergerMixedDuplicateMimosaTrigIDITk)
add_executable(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDITK} src/euCliMergerMixedDuplicateMimosaTrigIDITk.cxx)
target_link_libraries(${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDITK} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERMIXEDDUPLICATEMIMOSATRIGIDITK})

# Attach all triggers to the corresponding Mimosa/NI RO 

set(EXE_CLI_MERGERMIXEDCOMBINED euCliMergerMixedCombined)
add_executable(${EXE_CLI_MERGERMIXEDCOMBINED} src/euCliMergerMixedCombined.cxx)
target_link_libraries(${EXE_CLI_MERGERMIXEDCOMBINED} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERMIXEDCOMBINED})

# for TORCH test beam in 2017, standard mode

set(EXE_CLI_MERGERTORCH euCliMergerTORCH)
add_executable(${EXE_CLI_MERGERTORCH} src/euCliMergerTORCH.cxx)
target_link_libraries(${EXE_CLI_MERGERTORCH} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_MERGERTORCH})

# if Trigger ID is reset after 15bit

set(EXE_CLI_FEI4TRIGGERIDTOOL euCliFEI4TriggerIDTool)
add_executable(${EXE_CLI_FEI4TRIGGERIDTOOL} src/euCliFEI4TriggerIDTool.cxx)
target_link_libraries(${EXE_CLI_FEI4TRIGGERIDTOOL} ${EUDAQ_CORE_LIBRARY} ${EUDAQ_THREADS_LIB})
list(APPEND INSTALL_TARGETS ${EXE_CLI_FEI4TRIGGERIDTOOL})


install(TARGETS ${INSTALL_TARGETS}
  DESTINATION bin
  LIBRARY DESTINATION lib
  ARCHIVE DESTINATION lib)
